!function(){"use strict";let e=null,n="hu";function t(e,n){const t=new Date(e),c=new Date(n);return t.setHours(0,0,0,0),c.setHours(0,0,0,0),t.getTime()-c.getTime()}function c(){return(new Date).toISOString().split("T")[0]}function i(e){return e.replace(/-/g,".")}function a(a){const o=document.getElementById("events-timeline-container");if(!o)return;const s=function(e){const n=c();for(let c of e)if(t(c.endDate||c.date,n)>=0)return c.id;return null}(a),l=n;let r="";a.forEach((n,a)=>{const o=function(e){const n=c();return t(e.endDate||e.date,n)<0?"past":"upcoming"}(n),d=n.id===s,u=(v=n.category,e&&e.categories?e.categories.find(e=>e.id===v):null);var v;const f=u?u.color:"#666",m="en"===l?n.titleEn:n.title,h="en"===l?n.descriptionEn:n.description,p="en"===l?n.locationEn:n.location;let g=i(n.date);n.endDate&&(g+=" - "+i(n.endDate));const $=d?"timeline-circle-filled":"timeline-circle-normal",k=n.link&&""!==n.link.trim(),y=k?`<a href="${n.link}" class="event-link">`:"",b=k?"</a>":"";r+=`\n        <div class="timeline-event" data-category="${n.category}" data-status="${o}">\n          <div class="timeline-marker">\n            <div class="timeline-circle ${$}" style="border-color: ${f}; background-color: ${f};"></div>\n          </div>\n          <div class="timeline-content" style="color: ${f};">\n            <div class="event-date-title">\n              ${y}\n              <span class="event-date">${g}</span>\n              <span class="event-title-text"> - ${m}</span>\n              ${b}\n            </div>\n            ${h?`<div class="event-description">${h}</div>`:""}\n            ${p?`<div class="event-meta"><span class="event-location">üìç ${p}</span></div>`:""}\n          </div>\n        </div>\n      `}),o.innerHTML=r}function o(){if(!e||!e.events)return;const n=document.querySelectorAll(".event-filter-checkbox"),t=[];n.forEach(e=>{e.checked&&t.push(e.value)});a(0===t.length?e.events:e.events.filter(e=>t.includes(e.category)))}async function s(){n=window.location.pathname.includes("index_en.html")?"en":"hu";await async function(){try{const n=await fetch("assets/data/events-calendar.json");if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return e=await n.json(),e}catch(e){return console.error("Hiba az esem√©nyek bet√∂lt√©sekor:",e),null}}()?(!function(){const t=document.getElementById("events-filter-container");if(!t||!e||!e.categories)return;const c=n;let i="";e.categories.forEach(e=>{const n="en"===c?e.nameEn:e.name;i+=`\n        <label class="event-filter-label">\n          <input type="checkbox" class="event-filter-checkbox" value="${e.id}" checked>\n          <span class="filter-color-indicator" style="background-color: ${e.color};"></span>\n          <span class="filter-name">${n}</span>\n        </label>\n      `}),t.innerHTML=i,t.querySelectorAll(".event-filter-checkbox").forEach(e=>{e.addEventListener("change",o)})}(),o()):console.error("Nem siker√ºlt bet√∂lteni az esem√©nyeket")}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",s):s()}();